!function(t){var n=0;t.isSmartSidebar=function(n){return!!t(n).data("SmartSidebar")},t.SmartSidebar=function(i,e){function o(){w=T.height(),C=Math.max(g.top-w,0),x.css({height:C+"px"})}function r(){z=M.height(),y=S.height(),b=h.outerHeight(!0),A=Math.max(y-b-z,0),j.height(A)}function a(t){setTimeout(function(){s(),p(t)},10)}function s(){g=h.offset(),S=t('<div id="'+H+'" class="'+e.railClass+'" style="overflow:hidden;position:fixed;padding:1px;top:0;bottom:0;pointer-events:none;"></div>'),x=t('<div class="top-gap" style="margin:0;padding:0;pointer-events:none;"></div>'),T=t('<div class="top-offset" style="margin:0;padding:0;pointer-events:none;"></div>'),M=t('<div class="bottom-offset" style="margin:0;padding:0;pointer-events:none;"></div>'),j=t('<div class="bottom-gap" style="margin:0;padding:0;pointer-events:none;"></div>'),S.css({left:g.left+"px"}),h.before(S),o(),r(),S.append(x),S.append(T),S.append(h),S.append(M),S.append(j)}function d(){S.replaceWith(h)}function l(){if(S){if(!c())return u.off("scroll",l);m=m||0;var t=u.scrollTop(),n=t-m,i=S.scrollTop()+n;m=t,o(),r();var e=w+C;if(e>t)return void S.scrollTop(t);var a=e&&v.height()-u.height()-t;if(t>C&&C>i&&(i=C),t>e&&i>e&&a>z&&y>b&&(i=e),i>e&&a>z){var s=C+w+b-y;i>s&&(i=s)}S.scrollTop(i)}}function p(t){t=t||0,t>=0&&c()&&(l(),setTimeout(function(){p(t-1)},100))}function c(){return t("#"+H).length}function f(t,n){function i(a){a===r?(t.apply(o,e),r=0):setTimeout(function(){i(r)},n)}var e,o,r=0;return function(){r++,e=Array.prototype.slice.call(arguments),o=this,1===r&&i(0)}}e=e||{},e.railClass=(e.railClass?e.railClass+" ":"")+"sidebar-rail";var u=t(window),v=t(window.document.body),h=t(i);h.data("SmartSidebar",!0).css({"pointer-events":"all"});var g,m,b,S,y,T,x,w,C,M,j,z,A,H="ssr"+ ++n;a(50),u.on("scroll",l),u.on("resize",f(function(){d(),a(1)},500))},t.fn.smartSidebar=function(n){return this.each(function(){return t.SmartSidebar(this,n)})}}(jQuery);